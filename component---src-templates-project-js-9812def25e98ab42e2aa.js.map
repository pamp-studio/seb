{"version":3,"sources":["webpack:///./src/components/gallery.js","webpack:///./src/templates/project.js"],"names":["Gallery","props","state","modalOpen","currentIndex","firstImageLoad","imageLoaded","bind","openModal","closeModal","nextItem","prevItem","_this","ReactDOM","findDOMNode","this","setState","window","scrollTo","offsetTop","i","e","stopPropagation","lastI","images","length","next","prev","render","id","onClick","style","onLoad","sizes","childImageSharp","alt","maxHeight","width","textAlign","display","justifyContent","alignItems","cursor","imgStyle","flexFlow","margin","map","x","key","fixed","border","background","padding","React","Component","BlogPostTemplate","post","data","markdownRemark","siteTitle","site","siteMetadata","title","pageContext","previous","location","frontmatter","description","excerpt","marginTop","rhythm","marginBottom","scale","date","dangerouslySetInnerHTML","__html","html","gallery","pageQuery"],"mappings":"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","file":"component---src-templates-project-js-9812def25e98ab42e2aa.js","sourcesContent":["import React from \"react\"\r\nimport Image from \"gatsby-image\"\r\nimport ReactDOM from 'react-dom'\r\n\r\nclass Gallery extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { \r\n        modalOpen: true,\r\n        currentIndex: 0,\r\n        firstImageLoad:true\r\n    }\r\n    this.imageLoaded = this.imageLoaded.bind(this);\r\n    this.openModal = this.openModal.bind(this);\r\n    this.closeModal = this.closeModal.bind(this);\r\n    this.nextItem = this.nextItem.bind(this);\r\n    this.prevItem = this.prevItem.bind(this);\r\n  }\r\n\r\n  imageLoaded(){\r\n    let _this = ReactDOM.findDOMNode(this);\r\n    if(!this.state.firstImageLoad){\r\n    window.scrollTo(0,_this.offsetTop-10);\r\n  }else{\r\n  this.setState({firstImageLoad:false});\r\n}\r\n  }\r\n\r\nopenModal(i){\r\n  this.setState({\r\n    modalOpen:true,\r\n    currentIndex:i\r\n  },)\r\n}\r\n\r\ncloseModal(){\r\n  this.setState({\r\n    modalOpen:false\r\n  })\r\n}\r\n\r\n      nextItem(e){\r\n        e.stopPropagation();\r\n        let lastI = this.props.images.length-1;\r\n        let next =  (this.state.currentIndex!==lastI) ? this.state.currentIndex+1 : 0;\r\n        this.setState({\r\n          currentIndex:next\r\n        })\r\n        return false;\r\n      }\r\n\r\n      prevItem(e){\r\n        e.stopPropagation();\r\n        let prev =  (this.state.currentIndex!==0) ? this.state.currentIndex-1 : this.props.images.length-1;\r\n        this.setState({\r\n          currentIndex:prev\r\n        })\r\n        return false;\r\n      }\r\n\r\n  render() {\r\nreturn (\r\n  this.props.images!==null && \r\n  <div>\r\n    <div>\r\n      <div\r\n      id={'display'}\r\n      onClick={this.nextItem}\r\n      style={{\r\n        \r\n      }}\r\n      >\r\n     <Image\r\n     onLoad={this.imageLoaded}\r\n    sizes={this.props.images[this.state.currentIndex].childImageSharp.sizes}\r\n    alt={''}\r\n    style={{\r\n      maxHeight:'95vh',\r\n      width:'inherit',\r\n      textAlign:'center',\r\n      display: 'flex', \r\n      justifyContent: 'center', \r\n      alignItems: 'center',\r\n      cursor:'pointer'\r\n    }}\r\n    imgStyle={{\r\n      maxHeight:'95vh',\r\n      width:'inherit',\r\n    }}\r\n  />\r\n  <p>{`${this.state.currentIndex+1} of ${this.props.images.length}`}</p>\r\n  <button onClick={this.prevItem} style={{cursor:'pointer'}}>Previous</button>|\r\n      <button onClick={this.nextItem} style={{cursor:'pointer'}}>Next</button>\r\n  </div>\r\n      \r\n  </div>\r\n  <div style={{\r\n    display: 'flex',\r\n    flexFlow: 'row wrap',\r\n    justifyContent: 'space-between',\r\n    margin: '30px 0px'\r\n  }}>\r\n   {this.props.images.map((x,i)=>\r\n   <div\r\n   key={`galimg-${i}`}\r\n   onClick={()=>{this.openModal(i)}}\r\n   >\r\n    <Image\r\n    key={i}\r\n    fixed={x.childImageSharp.fixed}\r\n    alt={'eothen stearn'}\r\n    style={{\r\n      cursor:'pointer',\r\n      border: i==this.state.currentIndex?'2px dotted red' : 'none',\r\n      background: i==this.state.currentIndex?'none' : 'none',\r\n\r\n    }}\r\n    imgStyle={{\r\n        padding:'1px',\r\n        margin:0\r\n    }}\r\n  />\r\n  </div>\r\n  )} </div>\r\n  </div>\r\n  )\r\n}\r\n}\r\n\r\nexport default Gallery\r\n\r\n\r\n\r\n","import React from \"react\"\r\nimport { Link, graphql } from \"gatsby\"\r\nimport Image from \"gatsby-image\"\r\nimport Layout from \"../components/layout\"\r\nimport Gallery from \"../components/gallery\"\r\nimport ShopListing from \"../components/shop-listing\"\r\n\r\nimport SEO from \"../components/seo\"\r\nimport { rhythm, scale } from \"../utils/typography\"\r\n\r\nclass BlogPostTemplate extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  render() {\r\n    const post = this.props.data.markdownRemark\r\n    const siteTitle = this.props.data.site.siteMetadata.title\r\n    const { previous, next } = this.props.pageContext\r\n    return (\r\n      <Layout location={this.props.location} title={siteTitle}>\r\n        <SEO\r\n          title={post.frontmatter.title}\r\n          description={post.frontmatter.description || post.excerpt}\r\n        />\r\n        <article>\r\n          <header>\r\n            <h1\r\n              style={{\r\n                marginTop: rhythm(1),\r\n                marginBottom: 0,\r\n              }}\r\n            >\r\n              {post.frontmatter.title}\r\n            </h1>\r\n            <p\r\n              style={{\r\n                ...scale(-1 / 5),\r\n                display: `block`,\r\n                marginBottom: rhythm(1),\r\n              }}\r\n            >\r\n              {post.frontmatter.date}\r\n            </p>\r\n          </header>\r\n          <section dangerouslySetInnerHTML={{ __html: post.html }} />\r\n        </article>\r\n     {/* <ShopListing items={post.frontmatter.shopItems} updateShopBasket={this.props.updateShopBasket}/> */}\r\n     <Gallery images={post.frontmatter.gallery}/>\r\n\r\n        {/* <nav>\r\n          <ul\r\n            style={{\r\n              display: `flex`,\r\n              flexWrap: `wrap`,\r\n              justifyContent: `space-between`,\r\n              listStyle: `none`,\r\n              padding: 0,\r\n            }}\r\n          >\r\n            <li>\r\n              {previous && (\r\n                <Link to={previous.fields.slug} rel=\"prev\">\r\n                  ← {previous.frontmatter.title}\r\n                </Link>\r\n              )}\r\n            </li>\r\n            <li>\r\n              {next && (\r\n                <Link to={next.fields.slug} rel=\"next\">\r\n                  {next.frontmatter.title} →\r\n                </Link>\r\n              )}\r\n            </li>\r\n          </ul>\r\n        </nav> */}\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BlogPostTemplate\r\n\r\nexport const pageQuery = graphql`\r\n  query BlogPostBySlug($slug: String!) {\r\n    site {\r\n      siteMetadata {\r\n        title\r\n      }\r\n    }\r\n    markdownRemark(fields: { slug: { eq: $slug } }) {\r\n      id\r\n      excerpt(pruneLength: 160)\r\n      html\r\n      frontmatter {\r\n        title\r\n        date(formatString: \"MMMM DD, YYYY\")\r\n        description\r\n        tags\r\n        gallery {\r\n          childImageSharp {\r\n            fixed(width: 125, height: 125) {\r\n              ...GatsbyImageSharpFixed\r\n            },\r\n            sizes(quality: 100,maxHeight: 900) {\r\n              ...GatsbyImageSharpSizes\r\n            }\r\n          }\r\n        }\r\n        shopItems {\r\n          name\r\n          price\r\n          id\r\n          stock\r\n          image { \r\n            childImageSharp {\r\n              fixed(width: 125, height: 125) {\r\n                ...GatsbyImageSharpFixed\r\n              }\r\n            } \r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n"],"sourceRoot":""}