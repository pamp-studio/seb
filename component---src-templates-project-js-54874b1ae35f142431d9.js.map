{"version":3,"sources":["webpack:///./src/components/gallery.js","webpack:///./src/templates/project.js"],"names":["Gallery","props","state","modalOpen","currentIndex","firstImageLoad","imageLoaded","bind","openModal","closeModal","nextItem","prevItem","_this","ReactDOM","findDOMNode","this","setState","window","scrollTo","offsetTop","i","e","stopPropagation","lastI","images","length","next","prev","render","id","onClick","style","onLoad","sizes","childImageSharp","alt","maxHeight","width","textAlign","display","justifyContent","alignItems","cursor","imgStyle","flexFlow","margin","map","x","key","fixed","border","background","padding","React","Component","BlogPostTemplate","post","data","markdownRemark","siteTitle","site","siteMetadata","title","pageContext","previous","location","frontmatter","description","excerpt","marginTop","rhythm","marginBottom","scale","date","dangerouslySetInnerHTML","__html","html","items","shopItems","updateShopBasket","gallery"],"mappings":"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","file":"component---src-templates-project-js-54874b1ae35f142431d9.js","sourcesContent":["import React from \"react\"\nimport Image from \"gatsby-image\"\nimport ReactDOM from 'react-dom'\n\nclass Gallery extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n        modalOpen: true,\n        currentIndex: 0,\n        firstImageLoad:true\n    }\n    this.imageLoaded = this.imageLoaded.bind(this);\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n    this.nextItem = this.nextItem.bind(this);\n    this.prevItem = this.prevItem.bind(this);\n  }\n\n  imageLoaded(){\n    let _this = ReactDOM.findDOMNode(this);\n    if(!this.state.firstImageLoad){\n    window.scrollTo(0,_this.offsetTop-10);\n  }else{\n  this.setState({firstImageLoad:false});\n}\n  }\n\nopenModal(i){\n  this.setState({\n    modalOpen:true,\n    currentIndex:i\n  },)\n}\n\ncloseModal(){\n  this.setState({\n    modalOpen:false\n  })\n}\n\n      nextItem(e){\n        e.stopPropagation();\n        let lastI = this.props.images.length-1;\n        let next =  (this.state.currentIndex!==lastI) ? this.state.currentIndex+1 : 0;\n        this.setState({\n          currentIndex:next\n        })\n        return false;\n      }\n\n      prevItem(e){\n        e.stopPropagation();\n        let prev =  (this.state.currentIndex!==0) ? this.state.currentIndex-1 : this.props.images.length-1;\n        this.setState({\n          currentIndex:prev\n        })\n        return false;\n      }\n\n  render() {\nreturn (\n  this.props.images!==null && \n  <div>\n    <div>\n      <div\n      id={'display'}\n      onClick={this.nextItem}\n      style={{\n        \n      }}\n      >\n     <Image\n     onLoad={this.imageLoaded}\n    sizes={this.props.images[this.state.currentIndex].childImageSharp.sizes}\n    alt={''}\n    style={{\n      maxHeight:'95vh',\n      width:'inherit',\n      textAlign:'center',\n      display: 'flex', \n      justifyContent: 'center', \n      alignItems: 'center',\n      cursor:'pointer'\n    }}\n    imgStyle={{\n      maxHeight:'95vh',\n      width:'inherit',\n    }}\n  />\n  <p>{`${this.state.currentIndex+1} of ${this.props.images.length}`}</p>\n  <button onClick={this.prevItem} style={{cursor:'pointer'}}>Previous</button>|\n      <button onClick={this.nextItem} style={{cursor:'pointer'}}>Next</button>\n  </div>\n      \n  </div>\n  <div style={{\n    display: 'flex',\n    flexFlow: 'row wrap',\n    justifyContent: 'space-between',\n    margin: '30px 0px'\n  }}>\n   {this.props.images.map((x,i)=>\n   <div\n   key={`galimg-${i}`}\n   onClick={()=>{this.openModal(i)}}\n   >\n    <Image\n    key={i}\n    fixed={x.childImageSharp.fixed}\n    alt={'eothen stearn'}\n    style={{\n      cursor:'pointer',\n      border: i==this.state.currentIndex?'2px dotted red' : 'none',\n      background: i==this.state.currentIndex?'none' : 'none',\n\n    }}\n    imgStyle={{\n        padding:'1px',\n        margin:0\n    }}\n  />\n  </div>\n  )} </div>\n  </div>\n  )\n}\n}\n\nexport default Gallery\n\n\n\n","import React from \"react\"\nimport { Link, graphql } from \"gatsby\"\nimport Image from \"gatsby-image\"\nimport Layout from \"../components/layout\"\nimport Gallery from \"../components/gallery\"\nimport ShopListing from \"../components/shop-listing\"\n\nimport SEO from \"../components/seo\"\nimport { rhythm, scale } from \"../utils/typography\"\n\nclass BlogPostTemplate extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    const post = this.props.data.markdownRemark\n    const siteTitle = this.props.data.site.siteMetadata.title\n    const { previous, next } = this.props.pageContext\n    return (\n      <Layout location={this.props.location} title={siteTitle}>\n        <SEO\n          title={post.frontmatter.title}\n          description={post.frontmatter.description || post.excerpt}\n        />\n        <article>\n          <header>\n            <h1\n              style={{\n                marginTop: rhythm(1),\n                marginBottom: 0,\n              }}\n            >\n              {post.frontmatter.title}\n            </h1>\n            <p\n              style={{\n                ...scale(-1 / 5),\n                display: `block`,\n                marginBottom: rhythm(1),\n              }}\n            >\n              {post.frontmatter.date}\n            </p>\n          </header>\n          <section dangerouslySetInnerHTML={{ __html: post.html }} />\n        </article>\n     <ShopListing items={post.frontmatter.shopItems} updateShopBasket={this.props.updateShopBasket}/>\n     <Gallery images={post.frontmatter.gallery}/>\n\n        {/* <nav>\n          <ul\n            style={{\n              display: `flex`,\n              flexWrap: `wrap`,\n              justifyContent: `space-between`,\n              listStyle: `none`,\n              padding: 0,\n            }}\n          >\n            <li>\n              {previous && (\n                <Link to={previous.fields.slug} rel=\"prev\">\n                  ← {previous.frontmatter.title}\n                </Link>\n              )}\n            </li>\n            <li>\n              {next && (\n                <Link to={next.fields.slug} rel=\"next\">\n                  {next.frontmatter.title} →\n                </Link>\n              )}\n            </li>\n          </ul>\n        </nav> */}\n      </Layout>\n    )\n  }\n}\n\nexport default BlogPostTemplate\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug($slug: String!) {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      excerpt(pruneLength: 160)\n      html\n      frontmatter {\n        title\n        date(formatString: \"MMMM DD, YYYY\")\n        description\n        tags\n        gallery {\n          childImageSharp {\n            fixed(width: 125, height: 125) {\n              ...GatsbyImageSharpFixed\n            },\n            sizes(quality: 100,maxHeight: 900) {\n              ...GatsbyImageSharpSizes\n            }\n          }\n        }\n        shopItems {\n          name\n          price\n          id\n          stock\n          image { \n            childImageSharp {\n              fixed(width: 125, height: 125) {\n                ...GatsbyImageSharpFixed\n              }\n            } \n          }\n        }\n      }\n    }\n  }\n`\n"],"sourceRoot":""}